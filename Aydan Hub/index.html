<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aydan Hub | Metaverse</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root { 
            --bg-dark: #0f0a24; 
            --accent-purple: #7d5fff; 
            --accent-pink: #ff00de;
            --accent-blue: #00d2ff;
            --glass: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
        }
        
        body { 
            margin: 0; 
            background-color: var(--bg-dark);
            color: #ffffff; 
            font-family: 'Inter', sans-serif; 
            overflow-x: hidden;
            scroll-behavior: smooth;
        }

        /* --- Animated Background --- */
        .bg-flow {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1;
            overflow: hidden;
        }
        .blob {
            position: absolute;
            border-radius: 50%;
            filter: blur(80px);
            opacity: 0.5;
            transition: all 1s ease;
        }
        .blob-1 { width: 500px; height: 500px; background: var(--accent-purple); top: -10%; right: -5%; }
        .blob-2 { width: 400px; height: 400px; background: var(--accent-blue); bottom: 10%; left: -5%; }
        body.app-view .blob-1 { background: var(--accent-pink); top: 20%; width: 600px; }

        /* --- Header --- */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 8%;
            position: fixed;
            width: 100%;
            box-sizing: border-box;
            z-index: 1000;
            background: rgba(15, 10, 36, 0.8);
            backdrop-filter: blur(15px);
            border-bottom: 1px solid var(--glass-border);
        }

        .logo-container { display: flex; align-items: center; gap: 15px; }

        /* CIRCLED WOLF ICON - FIXED */
        .wolf-circle {
            width: 45px;
            height: 45px;
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-pink));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 0 15px rgba(125, 95, 255, 0.4);
            transition: 0.3s;
        }
        .wolf-circle:hover { transform: scale(1.1); box-shadow: 0 0 25px var(--accent-purple); }
        
        /* The Wolf SVG drawing */
        .wolf-circle svg {
            width: 28px;
            height: 28px;
            fill: white;
        }

        .logo-text { font-weight: 900; font-size: 1.4rem; letter-spacing: 3px; }

        nav { display: flex; gap: 20px; }
        .nav-link {
            color: rgba(255,255,255,0.6); text-decoration: none; text-transform: uppercase;
            font-size: 0.75rem; font-weight: 700; cursor: pointer; transition: 0.3s;
        }
        .nav-link:hover { color: #fff; }

        /* --- Sections --- */
        .hero {
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 0 10%;
        }
        .hero-title {
            font-size: clamp(3rem, 8vw, 6rem);
            font-weight: 900;
            line-height: 0.9;
            background: linear-gradient(to bottom, #fff 60%, rgba(255,255,255,0.2));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        #content-section {
            display: none;
            padding: 120px 10% 100px;
            min-height: 100vh;
        }
        .view-title {
            font-size: clamp(2.5rem, 5vw, 4.5rem);
            font-weight: 900;
            text-transform: uppercase;
            margin-bottom: 50px;
            border-left: 5px solid var(--accent-purple);
            padding-left: 20px;
        }

        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 25px; }
        .tile {
            background: var(--glass);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            padding: 30px; border-radius: 24px; transition: 0.4s;
        }
        .tile:hover { transform: translateY(-10px); border-color: #fff; }
        .btn-get { 
            margin-top: 25px;
            background: linear-gradient(45deg, var(--accent-purple), var(--accent-pink));
            color: #fff; text-decoration: none; display: block; 
            text-align: center; padding: 12px; border-radius: 12px; font-weight: 900;
        }
    </style>
</head>
<body id="body">

    <div class="bg-flow">
        <div class="blob blob-1"></div>
        <div class="blob blob-2"></div>
    </div>

    <header>
        <div class="logo-container">
            <div class="wolf-circle" ondblclick="location.href='admin.html'">
                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 1L9 9l-7 2 5 4-2 7 6-4 6 4-2-7 5-4-7-2-3-8zM12 4.4l1.9 5.1h5.4l-4.4 3.2 1.7 5.1-4.6-3.1-4.6 3.1 1.7-5.1-4.4-3.2h5.4L12 4.4z"/>
                    <path d="M12 7c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/>
                </svg>
            </div>
            <div class="logo-text">AYDAN</div>
        </div>
        <nav>
            <a class="nav-link" onclick="resetHome()">Home</a>
            <a class="nav-link" onclick="openSection('ALL', 'Play<br>Now.')">Games</a>
            <a class="nav-link" onclick="openSection('FILE', 'Welcome<br>Back.')">Apps</a>
            <a class="nav-link" onclick="openSection('LINK', 'Quick<br>Links.')">Links</a>
        </nav>
    </header>

    <section class="hero" id="home-hero">
        <h1 class="hero-title">Experience<br>The Hub.</h1>
    </section>

    <section id="content-section">
        <div id="view-title" class="view-title"></div>
        <div class="grid" id="main-grid"></div>
    </section>

    <script>
        const SUPABASE_URL = 'https://tvasdkfdizdwkroatgno.supabase.co';
        const SUPABASE_KEY = 'sb_publishable_UQ0g7DJ4_Um1nrAEd6z4nA_LnMUIcSA';
        const supabaseClient = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);
        let items = [];

        async function load() {
            const { data } = await supabaseClient.from('files').select('*').order('created_at', { ascending: false });
            items = data || [];
        }

        function openSection(filter, titleHtml) {
            const body = document.getElementById('body');
            const section = document.getElementById('content-section');
            const viewTitle = document.getElementById('view-title');
            
            body.className = titleHtml.includes('Welcome') ? 'app-view' : '';
            viewTitle.innerHTML = titleHtml;
            section.style.display = 'block';
            
            const list = filter === 'ALL' ? items : items.filter(i => i.category === filter);
            const g = document.getElementById('main-grid');
            
            g.innerHTML = list.map(i => `
                <div class="tile">
                    <div style="color:var(--accent-blue); font-weight:900; font-size:0.7rem; margin-bottom:10px;">${i.category}</div>
                    <h3 style="margin:0; font-size:1.4rem; font-weight:900;">${i.title}</h3>
                    <a href="${i.url}" target="_blank" class="btn-get" ${i.category==='LINK'?'':'download'}>ACCESS NOW</a>
                </div>
            `).join('');

            section.scrollIntoView({ behavior: 'smooth' });
        }

        function resetHome() {
            document.getElementById('body').className = '';
            document.getElementById('content-section').style.display = 'none';
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        load();
    </script>
</body>
</html>